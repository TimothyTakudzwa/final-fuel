{% load humanize %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Sord Allocations Summary</title>

    <style>
        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td, th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        tr:nth-child(even) {
            background-color: #dddddd;
        }
        .first {
            width: 50%;
            float:left;
            font-size: 12px;

        }
        .wrapper {
            width: 100%;
            margin: auto;
            padding: 10px;
            overflow: hidden;
        }
        .text-muted{
            color:#6c757d!important;
        }
    </style>

</head>
<body>

{% for sord in sord_allocations %}
    <div class='wrapper'>
        <!--supplier-->
        <div class='first'>
            <h4 style="color: lightslategrey">SUPPLIER</h4>
            <p class="text-muted">{{ sord.sord_no }}</p>
            <p class="text-muted">{{ sord.action_no }}</p>
            <p class="text-muted">{{ sord.action }}</p>
            {% if sord.fuel_type == 'Petrol' %}
            <p style="color: #009688;" class="text-muted">{{ sord.fuel_type }}</p>
            {% elif sord.fuel_type == 'Diesel' %}
            <p style="color: #ffb61e;" class="text-muted">{{ sord.fuel_type }}</p>
            {% else %}
            <p class="text-muted">{{ sord.fuel_type }}</p>
            {% endif %}
            <p class="text-muted">{{ sord.payment_type }}</p>
            <p class="text-muted">{{ sord.initial_quantity|floatformat:2|intcomma }}</p>
            <p class="text-muted">{{ sord.quantity_allocated|floatformat:2|intcomma }}</p>
            <p class="text-muted">{{ sord.end_quantity|floatformat:2|intcomma }}</p>
            {% if sord.allocated_to == None %}
            <p class="text-muted">--</p>
            {% else %}
            <p class="text-muted">{{ sord.allocated_to }}</p>
            {% endif %}
        </div>
        <!--buyer-->
        <!-- <div class='first' style="text-align: right">
            <h4 style="color: lightslategrey">BUYER</h4>
            <p class="text-muted">{{ transaction.account.buyer_company.name }}</p>
            <p class="text-muted">{{ transaction.account.buyer_company.address }}</p>
            <p class="text-muted">{{ transaction.account.buyer_company.destination_bank }}</p>
            <p class="text-muted">{{ transaction.account.buyer_company.account_number }}</p>
            <p class="text-muted">{{ transaction.account.buyer_company.bp_num }}</p>
        </div> -->
    </div>
{% endfor %}

<hr>

<table style="padding-top: 20px">
    <tr>
        <th>
            Sord Number
        </th>

        <th>
            Number of Actions
        </th>

        <th>
            Info
        </th>
        <th>
            Fuel 
        </th>
        <th>
            Currency 
        </th>
        <th>
            Initial
        </th>
        <th>
            Allocated
        </th>
        <th>
            Balance
        </th>

        <th>
            Last Allocation
        </th>

    </tr>

    {% for sord in sord_allocations %}
        <tr>
            <td>{{sord.sord_no}}</td>
            <td>{{sord.action_no}}</td>
            <td>{{sord.action}}</td>

            {% if sord.fuel_type == 'Petrol' %}
                <td style="color: #009688;">{{sord.fuel_type}}</td>
            {% elif sord.fuel_type == 'Diesel' %}
                <td style="color: #ffb61e;">{{sord.fuel_type}}</td>
            {% else %}    
                <td>{{sord.fuel_type}}</td>
            {% endif %}    


            <td>{{sord.payment_type}}</td>
            <td>{{sord.initial_quantity|floatformat:2|intcomma}}</td>
            <td>{{sord.quantity_allocated|floatformat:2|intcomma}}</td>
            <td>{{sord.end_quantity|floatformat:2|intcomma}}</td>
            {% if sord.allocated_to == None %}
            <td><B style="margin-left: 25px;">--</B></td>
            {% else %}
            <td>{{sord.allocated_to}}</td>
            {% endif %}
        </tr>
    {% endfor %}

</table>


</body>
</html>