{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" type="text/css"
        href="https://timothytakudzwa.github.io/static/datatable/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css"
        href="https://timothytakudzwa.github.io/static/datatable/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css"
        href="https://timothytakudzwa.github.io/static/datatable/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" type="text/css"
        href="https://timothytakudzwa.github.io/static/datatable/css/buttons.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://timothytakudzwa.github.io/static/datatable/css/style.css">
    <link rel="stylesheet" type="text/css"
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <link rel="icon" href="https://timothytakudzwa.github.io/static/wp-content/uploads/2019/10/favicon.png"
    sizes="32x32" />
    <link rel="icon" href="https://timothytakudzwa.github.io/static/wp-content/uploads/2019/10/favicon.png"
        sizes="192x192" />
    <link rel="apple-touch-icon-precomposed" href="wp-content\themes\oppi\assets\img\logo-color.png" />
    <meta name="msapplication-TileImage"
        content="https://droitthemes.com/wp/oppi/wp-content/uploads/2019/10/favicon.png" />

    <link href="{% static 'finder/assets/css/material-dashboard.css' %}" rel="stylesheet" />

    <title>{% if trans %}Transactions {% elif revs%} Revenue{% elif allocations %}Allocations {% elif stock %}Stock {% elif requests %}Requests {% endif%} Report</title>
</head>

<body class="">
    <div class="wrapper ">

        <div class="sidebar" data-color="purple" data-background-color="black" data-image="{% static 'finder/assets/img/sidebar-1.jpg' %}">
            <!--
              Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"
      
              Tip 2: you can also add an image using data-image tag
          -->
            <div class="logo">
                <a href="{% url 'users:company_profile' %}" class="simple-text logo-normal">
                    <strong>{{request.user.company.name}}</strong>
                </a>
            </div>
            <div class="sidebar-wrapper">
                <ul class="nav">
                    <li class="nav-item {% if request.path == '/users/allocate/' %} active {% endif %}">

                        <a class="nav-link " href="{% url 'users:allocate' %}">
                            <i class="material-icons">confirmation_number</i>
                            <p>Fuel Allocations</p>
                        </a>
                    </li>
                    <li class="nav-item {% if request.path == '/users/suppliers/' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'users:suppliers_list' %}">
                            <i class="material-icons">people</i>
                            <p>Service Station Staff</p>
                        </a>
                    </li>
                    <li class="nav-item {% if request.path == '/users/depot_staff/' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'users:depot_staff' %}">
                            <i class="material-icons">people</i>
                            <p>Depot Staff</p>
                        </a>
                    </li>
                    <li class="nav-item {% if request.path == '/users/audit_trail/' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'users:audit_trail' %}">
                            <i class="material-icons">account_balance</i>
                            <p>Audit Trail</p>
                        </a>
                    </li>
                    <li class="nav-item {% if request.path == '/users/stations/' %} active {% endif %}">

                        <a class="nav-link " href="{% url 'users:stations' %}">
                            <i class="material-icons">local_gas_station</i>
                            <p>Subsidiaries</p>
                        </a>
                    </li>
                    <li class="nav-item {% if request.path == '/users/statistics/' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'users:statistics' %}">
                            <i class="material-icons">show_chart</i>
                            <p>Statistics</p>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href=" {% url 'users:report_generator' %}">
                            <i class="material-icons">calendar_today</i>
                            <p>Report Generator</p>
                        </a>
                    </li>

                    <li class="nav-item {% if request.path == '/users/waiting_for_approval/' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'users:waiting_for_approval' %}">
                          <i class="material-icons">people</i>
                          <p>Staff Applications</p>
                        </a>
                      </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'logout' %}?next=/">
                            <i class="material-icons">close</i>
                            <p>Logout</p>
                        </a>
                    </li>



                </ul>
            </div>
        </div>
        <div class="main-panel" style="margin-top: 0;">
            <div class="row">

                <div class="col-md-12">

                    {% if messages %}

                    {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}" style="text-align: center">
                        {{ message }}
                    </div>
                    {% endfor %}

                    {% endif %}



                </div>



            </div>
            <main role="main" class="content" style="margin-top: 0;padding: 0;">
                    <!-- <div class="jumbotron jumbotron-fluid" style="background: linear-gradient(to right, #fdbb2d, #b21f1f, #1a2a6c);color: white;margin-bottom: 100px;"> -->
                <div class="jumbotron jumbotron-fluid" >
                    <div class="container" style="text-align: left;margin-left: 0;">
                        <h3 class="display-3">Report Generator</h3>
                        <hr class="my-2">

                    </div>
                    <p class="lead" style="padding-left: 15px;padding-top: 30px;">
                        <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#report_modal"
                            role="button" style="color: white;">Generate Report</button>
                        
                        <!--    
                        <button class="btn btn-info btn-lg" data-toggle="modal" data-target="#trans_info_modal"
                            role="button" style="color: white;">View Quick Info</button> -->

                    </p>
                </div>
                <div class="modal fade" id="report_modal" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header" style="background:#402d57e0">
                                <h4 class="modal-title" style="color:whitesmoke"> Generate Report</h4>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body" style="background:#eeee">

                                <form method="POST" action="/users/report_generator/">
                                    {% csrf_token %}
                                    <div class="form-group">
                                        <select name="report_type" class="browser-default custom-select" id="report_options">
                                            <option selected>Transactions</option>
                                            <option value="Requests">Requests</option>
                                            <option value="Stock">Stock</option>
                                            <option value="Allocations">Allocations</option>
                                        </select>
                                    </div>
                                    <div class="report_dates">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Starting Date</label>
                                            <input name="start_date" type="date" class="form-control"
                                                id="exampleInputEmail1" aria-describedby="emailHelp"
                                                placeholder="Enter email">
                                            <small id="emailHelp" class="form-text text-muted">Please Pick A Starting
                                                Date.</small>
                                        </div>

                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Ending Date</label>
                                            <input name="end_date" type="date" class="form-control" id="exampleInputEmail1"
                                                aria-describedby="emailHelp" placeholder="Enter email">
                                            <small id="emailHelp" class="form-text text-muted"
                                                style="color: lightslategray;">Please Pick A Ending Date.</small>
                                        </div>
                                    </div>    

                                    <input class="btn btn-info" type="submit" value="Submit">
                                </form>

                            </div>
                        </div>
                    </div>
                </div>
                {% if trans or revs or stock or allocations or requests %}
                <div style="/* padding: 25px; */background-color:rgb(14, 80, 100);border: #fafbfb 2px solid;border-radius: 10px;padding-left: 15px;padding-top: 30px;padding-bottom: 30px;margin-left: 15px;margin-top: -89px;">
                    <h1 style="color: #fafafa;font-size: medium;">Showing results from <b>{{start}}</b> to <b>{{end}} </b> </h1>
                </div>
                {% else %}
                <div style="/* padding: 25px; */background-color:rgb(14, 80, 100);border: #fafbfb 2px solid;border-radius: 10px;padding-left: 15px;padding-top: 30px;padding-bottom: 30px;margin-left: 15px;margin-top: -89px;">
                    <h1 style="color: #fafafa;font-size: medium;">No Data, Generate New Report Above </h1>
                </div>
                {%endif%}  
            
                {%if trans%}
                <div class="col-md-12">
                    <div class="card" style="background-color:white">

                        <div class="card-header card-header-primary">
                            <h4 class="card-title ">Transactions Report</h4>
                        </div>
                        <div class="card-body">
                            <div class="container-fluid">
                                <div class="row" style="margin-bottom: 20px;">


                                </div>
                                <table id="maintable" class="table table-striped table-bordered" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Buying Company</th>
                                            <th>Fuel Type</th>
                                            <th>Quantity (Litres) </th>
                                            <th>Price</th>
                                            <th>Contact Person</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for tran in trans %}
                                        <tr>
                                            <td>{{tran.date}} <small style="margin-left: 10px;">{{tran.time}}</small>
                                            </td>
                                            <td>{{tran.buyer.company.name}}</td>
                                            <td>{{tran.offer.request.fuel_type|title}}</td>
                                            <td>{{tran.offer.quantity}}</td>
                                            <td>$ {{tran.offer.price|stringformat:".2f"}}</td>
                                            <td>{{tran.buyer.first_name}} {{tran.buyer.last_name }}</td>
                                            <td>
                                                {% if tran.is_complete %}
                                                <i class="material-icons" style="color: #2ecc71;">check_circle</i>
                                                {% else %}
                                                <i class="material-icons" style="color: #e74c3c;">report</i>
                                                {% endif %}
                                            </td>

                                        </tr>

                                        {% endfor %}
                                    </tbody>
                                    <tfoot style="background-color: #c0c0c0; color: #ffffff; font-size: 0.9em; ">
                                        <tr>
                                            <th>Date</th>
                                            <th>Buying Company</th>
                                            <th>Fuel Type</th>
                                            <th>Quantity</th>
                                            <th>Price</th>
                                            <th>Contact Person</th>

                                            <th>Status</th>
                                        </tr>
                                    </tfoot>
                                </table>
                                <!-- <table id="example" class="table table-striped table-bordered" style="width:100%">
                                    <thead style="color:white; background:lightslategray">
                                        <th style="color:white;">
                                            Date
                                        </th>
                                        <th style="color:white;">
                                            Time
                                        </th>
                                        <th style="color:white;">
                                            Buyer
                                        </th>
                                        <th style="color:white;">
                                            Status
                                        </th>


                                    <tbody>
                                        {% for tran in trans %}
                                        <tr>
                                            <td>{{tran.date}}</td>
                                            <td>{{tran.time}}</td>
                                            <td>{{tran.buyer}}</td>
                                            <td>
                                                {% if tran.complete %}
                                                <i class="material-icons" style="color: #2ecc71;">check_circle</i>
                                                {% else %}
                                                <i class="material-icons" style="color: #e74c3c;">report</i>
                                                {% endif %}
                                            </td>

                                        </tr>

                                        {% endfor %}


                                    </tbody>
                                </table> -->

                            </div>
                        </div>
                    </div>

                </div>
                {%endif%}
                {% if stock %}
                <div class="col-md-12">
                    <div class="card" style="background-color:white">
                        <div class="card-header card-header-primary">
                            <h4 class="card-title ">Stock Report</h4>
                        </div>
                        <div class="card-body">
                            <div class="container-fluid"> 
                              
                                <table id="stock" class="table table-striped table-bordered" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Last Update</th>
                                                <th>Station Type</th>
                                                <th>Station Name</th>
                                                <th>Petrol (Litres)</th>
                                                <th>Petrol Price</th>
                                                <th>Diesel (Litres)</th>
                                                <th>Diesel Price</th>
                                                
                                              
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {%for my_stock in stock %}
                                            <tr>
                                                
                                                    <td>{{my_stock.last_updated}}</td>
                                                    <td>{{my_stock.sub_type}}</td>
                                                    <td>{{my_stock.subsidiary_name}}</td>
                                                    <td>{{my_stock.petrol_quantity}} l</td>
                                                    <td>{{my_stock.petrol_price}}</td>
                                                    <td>{{my_stock.diesel_quantity}} l</td>
                                                    <td>$ {{my_stock.diesel_price}}</td>
                                                    
                                            </tr>
                                            {%endfor%}
                                          
                    
                                        </tbody>
                                        <tfoot style="background-color: #c0c0c0; color: #ffffff; font-size: 0.9em; ">
                                            <tr>
                                                    <th>Last Update</th>
                                                    <th>Station Type</th>
                                                    <th>Station Name</th>
                                                    <th>Diesel Quantity</th>
                                                    <th>Petrol Price</th>
                                                    <th>Diesel Quantity</th>
                                                    <th>Diesel Price</th>
                                                 
                                            </tr>
                                        </tfoot>
                                    </table>
                            </div>
                        </div>
                    </div>

                </div>
                {% endif %}
                {% if requests %}
                <div class="col-md-12">
                    <div class="card" style="background-color:white">
                        
                        <div class="card-header card-header-primary">
                        <h4 class="card-title ">Requests Report</h4>
                        </div>
                    <div class="card-body">
                        <div class="container-fluid">
                                                  

                            <table id="requests" class="table table-striped table-bordered" style="width:100%">
                                <thead style="color:white; background:lightslategray">
                                    <th style="color:white;">
                                    Date
                                    </th>
                                    <th style="color:white;">
                                    Time
                                    </th>
                                    
                                    <th style="color:white;">
                                    Name
                                    </th>
                                    <th style="color:white;">
                                    Amount (Litres)
                                    </th>
                                    <th style="color:white;">
                                    Fuel Type
                                    </th>
                                    <th style="color:white;">
                                    Payment Method
                                    </th>
                                    
                                        
                                <tbody>
                                    {% for req in requests %}
                                    <tr>
                                            <td>{{req.date}}</td>
                                            <td>{{req.time}}</td>
                                            <td>{{req.name|title}}</td>
                                            <td>$ {{req.amount|stringformat:".2f"}}</td>
                                            <td>{{req.fuel_type|title}}</td>
                                            <td>
                                                {%if req.cash%}<i class="fa fa-dollar"></i>{%endif%} {% if req.cash %}<img src="{% static 'assets/img/zimbabwe.svg' %}" alt="ZWL" height="25px" width="25px" title="ZWL"> {%endif%} {%if req.usd%}<img src="{% static 'assets/img/united-states.svg' %}" alt="USD" height="25px" width="25px" title="USD"> {%endif%} {%if req.ecocash%}<img src="{% static 'assets/img/ecocash.svg' %}" alt="Ecocash" height="50px" width="50px" title="ECOCASH"> {%endif%} {%if req.swipe%}<i class="fa fa-cc-visa"></i> {% endif%} {%if not req.cash and not req.ecocash and not req.swipe and not req.usd%}No Payment Method {%endif%}
                                            </td>
                                        
                                            
                                        </tr>
                                
                                    {% endfor %}   
                                

                                </tbody>
                                </table>

                        </div>
                    </div>
                    </div>
                    
                </div>
                {% endif %}
                {% if allocations %}
                <div class="col-md-12">
                        <div class="card" style="background-color:white">
                            
                            <div class="card-header card-header-primary">
                            <h4 class="card-title ">Allocations Report</h4>
                            </div>
                        <div class="card-body">
                            <div class="container-fluid">
                                                      
    
                                <table id="allocations" class="table table-striped table-bordered" style="width:100%">
                                    <thead style="color:white; background:lightslategray">
                                        <th style="color:white;">
                                        Date
                                        </th>
                                        <th style="color:white;">
                                        Diesel Quantity (Litres)
                                        </th>
                                        <th style="color:white;">
                                        Petrol Quantity (Litres)
                                        </th>
                                        <th style="color:white;">
                                        Sub Type
                                        </th>
                                        <th style="color:white;">
                                        Petrol Price
                                        </th>
                                        <th style="color:white;">
                                        Diesel Price
                                        </th>
                                        
                                            
                                    <tbody>
                                        {% for allocation in allocations %}
                                        <tr>
                                                <td>{{allocation.date}}</td>
                                                <td>{{allocation.petrol_quantity}} l</td>
                                                <td>{{allocation.diesel_quantity}} l</td>
                                                <td>{{allocation.sub_type}}</td>
                                                <td>$ {{allocation.petrol_price}}</td>
                                                <td>$ {{allocation.diesel_price}}</td>
                                            
                                                
                                            </tr>
                                    
                                        {% endfor %}   
                                    
    
                                    </tbody>
                                    </table>
    
                            </div>
                        </div>
                        </div>
                        
                    </div>
                {% endif %}

                {% if revs %}
                <div class="col-md-12">
                    <div class="card" style="background-color:white">
                        
                        <div class="card-header card-header-primary">
                        <h4 class="card-title ">Revenue Report</h4>
                        </div>
                    <div class="card-body">
                        <div class="container-fluid">
                                                  

                            <table id="revenue" class="table table-striped table-bordered" style="width:100%">
                                <thead style="color:white; background:lightslategray">
                                    <th style="color:white;">
                                    Date
                                    </th>
                                    <th style="color:white;">
                                    Revenue
                                    </th>
                                    <th style="color:white;">
                                    Transactions No.
                                    </th>
                                    
                                    
                                        
                                <tbody>
                                    
                                    <tr>
                                        <td>{{revs.date}}</td>
                                        <td>{{revs.revenue}}</td>
                                        <td>{{revs.hits}}</td>                              
                                    </tr>
                                
                                

                                </tbody>
                                </table>

                        </div>
                    </div>
                    </div>
                    
                </div>
                {% endif %}


                <!-- <table id="allocations" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>City</th>
                            <th>Age</th>
                            <th>Start Date</th>
                            <th>Salary</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Tiger Nixon</td>
                            <td>System Architecture</td>
                            <td>Edinburgh</td>
                            <td>61</td>
                            <td>2011/04/25</td>
                            <td>$320,800</td>
                        </tr>

                        <tr>
                            <td> Harold Franklin</td>
                            <td> Financial Advisor</td>
                            <td> Tuwiri Wetan</td>
                            <td> 43</td>
                            <td> 06/18/2011</td>
                            <td> $159671.33</td>
                        </tr>

                    </tbody>
                    <tfoot style="background-color: #c0c0c0; color: #ffffff; font-size: 0.9em; ">
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>City</th>
                            <th>Age</th>
                            <th>Start Date</th>
                            <th>Salary</th>
                        </tr>
                    </tfoot>
                </table> -->
                <!-- 
                <table id="revenue" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>City</th>
                            <th>Age</th>
                            <th>Start Date</th>
                            <th>Salary</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Tiger Nixon</td>
                            <td>System Architecture</td>
                            <td>Edinburgh</td>
                            <td>61</td>
                            <td>2011/04/25</td>
                            <td>$320,800</td>
                        </tr>

                        <tr>
                            <td> Harold Franklin</td>
                            <td> Financial Advisor</td>
                            <td> Tuwiri Wetan</td>
                            <td> 43</td>
                            <td> 06/18/2011</td>
                            <td> $159671.33</td>
                        </tr>

                    </tbody>
                    <tfoot style="background-color: #c0c0c0; color: #ffffff; font-size: 0.9em; ">
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>City</th>
                            <th>Age</th>
                            <th>Start Date</th>
                            <th>Salary</th>
                        </tr>
                    </tfoot>
                </table>
                <table id="offers" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>City</th>
                            <th>Age</th>
                            <th>Start Date</th>
                            <th>Salary</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Tiger Nixon</td>
                            <td>System Architecture</td>
                            <td>Edinburgh</td>
                            <td>61</td>
                            <td>2011/04/25</td>
                            <td>$320,800</td>
                        </tr>

                        <tr>
                            <td> Harold Franklin</td>
                            <td> Financial Advisor</td>
                            <td> Tuwiri Wetan</td>
                            <td> 43</td>
                            <td> 06/18/2011</td>
                            <td> $159671.33</td>
                        </tr>

                    </tbody>
                    <tfoot style="background-color: #c0c0c0; color: #ffffff; font-size: 0.9em; ">
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>City</th>
                            <th>Age</th>
                            <th>Start Date</th>
                            <th>Salary</th>
                        </tr>
                    </tfoot>
                </table>
                <table id="staff" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>City</th>
                            <th>Age</th>
                            <th>Start Date</th>
                            <th>Salary</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Tiger Nixon</td>
                            <td>System Architecture</td>
                            <td>Edinburgh</td>
                            <td>61</td>
                            <td>2011/04/25</td>
                            <td>$320,800</td>
                        </tr>

                        <tr>
                            <td> Harold Franklin</td>
                            <td> Financial Advisor</td>
                            <td> Tuwiri Wetan</td>
                            <td> 43</td>
                            <td> 06/18/2011</td>
                            <td> $159671.33</td>
                        </tr>

                    </tbody>
                    <tfoot style="background-color: #c0c0c0; color: #ffffff; font-size: 0.9em; ">
                        <tr>
                            <th>Name</th>
                            <th>Position</th>
                            <th>City</th>
                            <th>Age</th>
                            <th>Start Date</th>
                            <th>Salary</th>
                        </tr>
                    </tfoot>
                </table>
                -->
            </main>
        </div>

    </div>
    <script type="text/javascript"
        src="https://timothytakudzwa.github.io/static/datatable/js/jquery-2.2.4.min.js"></script>
    <script type="text/javascript"
        src="https://timothytakudzwa.github.io/static/datatable/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript"
        src="https://timothytakudzwa.github.io/static/datatable/js/dataTables.buttons.min.js"></script>
    <script src="{% static 'finder/assets/js/core/bootstrap-material-design.min.js' %}"></script>
    <script src="{% static 'finder/assets/js/plugins/perfect-scrollbar.jquery.min.js' %}"></script>
    <!-- Plugin for the momentJs  -->
    <script type="text/javascript" src="https://timothytakudzwa.github.io/static/datatable/js/jszip.min.js"></script>
    <script type="text/javascript" src="https://timothytakudzwa.github.io/static/datatable/js/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://timothytakudzwa.github.io/static/datatable/js/vfs_fonts.js"></script>
    <script type="text/javascript"
        src="https://timothytakudzwa.github.io/static/datatable/js/buttons.html5.min.js"></script>
    <script type="text/javascript"
        src="https://timothytakudzwa.github.io/static/datatable/js/buttons.print.min.js"></script>
    <script type="text/javascript" src="https://timothytakudzwa.github.io/static/datatable/js/app.js"></script>
    <script type="text/javascript"
        src="https://timothytakudzwa.github.io/static/datatable/js/jquery.mark.min.js"></script>
    <script type="text/javascript"
        src="https://timothytakudzwa.github.io/static/datatable/js/datatables.mark.js"></script>
    <script type="text/javascript"
        src="https://timothytakudzwa.github.io/static/datatable/js/buttons.colVis.min.js"></script>
    <script>
        var table = $('#allocations').DataTable({
            mark: true,
            dom: 'Bfrtip',
            lengthMenu: [
                [10, 25, 50, 100, -1],
                ['10 rows', '25 rows', '50 rows', '100 rows', 'Show All']
            ],
            buttons: [
                'pageLength',
                {
                    extend: 'copyHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'excelHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'csvHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'print',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'pdfHtml5',
                    download: 'open',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                'colvis'
            ],
            columDefs: [{
                targets: -1,
                visible: false
            }]
        });

        // 4) Search on Multiple Columns
        $('#allocations tfoot th').each(function () {
            var title = $('#allocations tfoot th').eq($(this).index()).text();
            $(this).html('<input type="text" class="form-control" placeholder="Search ' + title + '" />');
        });

        table.columns().eq(0).each(function (colIdx) {
            $('input', table.column(colIdx).footer()).on('keyup change', function () {
                table
                    .column(colIdx)
                    .search(this.value)
                    .draw();
            });
        });


    </script>
    <script>
        var table2 = $('#requests').DataTable({
            mark: true,
            dom: 'Bfrtip',
            lengthMenu: [
                [10, 25, 50, 100, -1],
                ['10 rows', '25 rows', '50 rows', '100 rows', 'Show All']
            ],
            buttons: [
                'pageLength',
                {
                    extend: 'copyHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'excelHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'csvHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'print',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'pdfHtml5',
                    download: 'open',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                'colvis'
            ],
            columDefs: [{
                targets: -1,
                visible: false
            }]
        });

        // 4) Search on Multiple Columns
        $('#requests tfoot th').each(function () {
            var title = $('#requests tfoot th').eq($(this).index()).text();
            $(this).html('<input type="text" class="form-control" placeholder="Search ' + title + '" />');
        });

        table2.columns().eq(0).each(function (colIdx) {
            $('input', table2.column(colIdx).footer()).on('keyup change', function () {
                table2
                    .column(colIdx)
                    .search(this.value)
                    .draw();
            });
        });


    </script>

    <script>
        var table3 = $('#offers').DataTable({
            mark: true,
            dom: 'Bfrtip',
            lengthMenu: [
                [10, 25, 50, 100, -1],
                ['10 rows', '25 rows', '50 rows', '100 rows', 'Show All']
            ],
            buttons: [
                'pageLength',
                {
                    extend: 'copyHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'excelHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'csvHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'print',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'pdfHtml5',
                    download: 'open',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                'colvis'
            ],
            columDefs: [{
                targets: -1,
                visible: false
            }]
        });

        // 4) Search on Multiple Columns
        $('#offers tfoot th').each(function () {
            var title = $('#offers tfoot th').eq($(this).index()).text();
            $(this).html('<input type="text" class="form-control" placeholder="Search ' + title + '" />');
        });

        table3.columns().eq(0).each(function (colIdx) {
            $('input', table3.column(colIdx).footer()).on('keyup change', function () {
                table3
                    .column(colIdx)
                    .search(this.value)
                    .draw();
            });
        });


    </script>
    <script>
        var table4 = $('#revenue').DataTable({
            mark: true,
            dom: 'Bfrtip',
            lengthMenu: [
                [10, 25, 50, 100, -1],
                ['10 rows', '25 rows', '50 rows', '100 rows', 'Show All']
            ],
            buttons: [
                'pageLength',
                {
                    extend: 'copyHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'excelHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'csvHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'print',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'pdfHtml5',
                    download: 'open',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                'colvis'
            ],
            columDefs: [{
                targets: -1,
                visible: false
            }]
        });

        // 4) Search on Multiple Columns
        $('#revenue tfoot th').each(function () {
            var title = $('#revenue tfoot th').eq($(this).index()).text();
            $(this).html('<input type="text" class="form-control" placeholder="Search ' + title + '" />');
        });

        table4.columns().eq(0).each(function (colIdx) {
            $('input', table4.column(colIdx).footer()).on('keyup change', function () {
                table4
                    .column(colIdx)
                    .search(this.value)
                    .draw();
            });
        });


    </script>
    <script>
        var table5 = $('#stock').DataTable({
            mark: true,
            dom: 'Bfrtip',
            lengthMenu: [
                [10, 25, 50, 100, -1],
                ['10 rows', '25 rows', '50 rows', '100 rows', 'Show All']
            ],
            buttons: [
                'pageLength',
                {
                    extend: 'copyHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'excelHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'csvHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'print',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'pdfHtml5',
                    download: 'open',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                'colvis'
            ],
            columDefs: [{
                targets: -1,
                visible: false
            }]
        });

        // 4) Search on Multiple Columns
        $('#stock tfoot th').each(function () {
            var title = $('#stock tfoot th').eq($(this).index()).text();
            $(this).html('<input type="text" class="form-control" placeholder="Search ' + title + '" />');
        });

        table5.columns().eq(0).each(function (colIdx) {
            $('input', table5.column(colIdx).footer()).on('keyup change', function () {
                table5
                    .column(colIdx)
                    .search(this.value)
                    .draw();
            });
        });


    </script>
    <script>
        var table6 = $('#staff').DataTable({
            mark: true,
            dom: 'Bfrtip',
            lengthMenu: [
                [10, 25, 50, 100, -1],
                ['10 rows', '25 rows', '50 rows', '100 rows', 'Show All']
            ],
            buttons: [
                'pageLength',
                {
                    extend: 'copyHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'excelHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'csvHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'print',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                {
                    extend: 'pdfHtml5',
                    download: 'open',
                    exportOptions: {
                        columns: ':visible'
                    }
                },
                'colvis'
            ],
            columDefs: [{
                targets: -1,
                visible: false
            }]
        });

        // 4) Search on Multiple Columns
        $('#staff tfoot th').each(function () {
            var title = $('#staff tfoot th').eq($(this).index()).text();
            $(this).html('<input type="text" class="form-control" placeholder="Search ' + title + '" />');
        });

        table6.columns().eq(0).each(function (colIdx) {
            $('input', table6.column(colIdx).footer()).on('keyup change', function () {
                table6
                    .column(colIdx)
                    .search(this.value)
                    .draw();
            });
        });


    </script>
    <script>
        
        $('#report_options').change(function () {
            var selected = $('#report_options option:selected').text();
            if (selected == "Stock"){
                $('.report_dates').hide();
            }else{
                $('.report_dates').show();
            }
        });

    </script>
</body>

</html>